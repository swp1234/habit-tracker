<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#0f0f23">
    <meta name="description" data-i18n="meta.description">
    <meta name="keywords" content="ìŠµê´€, ì¶”ì ê¸°, ìƒì‚°ì„±, ëª©í‘œ, ìŠµê´€ í˜•ì„±">

    <!-- Google Analytics 4 -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-J8GSWM40TV"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-J8GSWM40TV');
    </script>

    <!-- Open Graph Tags -->
    <meta property="og:title" content="Habit Tracker - ìŠµê´€ ì¶”ì ê¸°">
    <meta property="og:description" content="ìŠµê´€ì„ ì¶”ì í•˜ê³  ëª©í‘œë¥¼ ë‹¬ì„±í•˜ì„¸ìš”. ì—°ì† ë‹¬ì„± ìŠ¤íŠ¸ë¦­, í†µê³„, ë™ê¸°ë¶€ì—¬ ëª…ì–¸ê³¼ í•¨ê»˜.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://dopabrain.com/habit-tracker/">
    <link rel="canonical" href="https://dopabrain.com/habit-tracker/">
    <meta property="og:image" content="https://dopabrain.com/habit-tracker/icon-512.svg">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Habit Tracker">
    <meta name="twitter:description" content="ìŠµê´€ì„ ì¶”ì í•˜ê³  ëª©í‘œë¥¼ ë‹¬ì„±í•˜ì„¸ìš”.">

    <!-- Schema.org WebApplication -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "Habit Tracker",
        "description": "ìŠµê´€ ì¶”ì  ë° ëª©í‘œ ë‹¬ì„± ì•±",
        "url": "https://dopabrain.com/habit-tracker/",
        "image": "https://dopabrain.com/habit-tracker/icon-512.svg",
        "applicationCategory": "ProductivityApplication",
        "offers": {
            "@type": "Offer",
            "price": "0"
        }
    }
    </script>

    <title data-i18n="app.title">Habit Tracker</title>
    <link rel="manifest" href="manifest.json">
    <link rel="icon" type="image/svg+xml" href="icon-192.svg">
    <link rel="apple-touch-icon" href="icon-192.svg">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <a href="#main-content" class="skip-link" data-i18n="accessibility.skipToMain">Skip to main content</a>
    <div class="app-loader" id="app-loader">
        <div class="loader-spinner"></div>
    </div>
    <div class="app-container" id="main-content">
        <!-- Header -->
        <header class="header">
            <div class="header-left">
                <h1 class="app-title" data-i18n="app.title">Habit Tracker</h1>
                <p class="subtitle" data-i18n="header.subtitle">Build better habits daily</p>
            </div>
            <div class="header-right">
                <button id="theme-toggle" class="btn-icon" aria-label="Toggle dark/light mode" title="Theme">ğŸŒ™</button>
                <div class="language-selector">
                    <button id="lang-toggle" class="btn-icon" aria-label="Select language" title="Language">ğŸŒ</button>
                    <div id="lang-menu" class="lang-menu hidden">
                        <button class="lang-option" data-lang="ko">ğŸ‡°ğŸ‡· í•œêµ­ì–´</button>
                        <button class="lang-option" data-lang="en">ğŸ‡ºğŸ‡¸ English</button>
                        <button class="lang-option" data-lang="ja">ğŸ‡¯ğŸ‡µ æ—¥æœ¬èª</button>
                        <button class="lang-option" data-lang="zh">ğŸ‡¨ğŸ‡³ ä¸­æ–‡</button>
                        <button class="lang-option" data-lang="es">ğŸ‡ªğŸ‡¸ EspaÃ±ol</button>
                        <button class="lang-option" data-lang="pt">ğŸ‡§ğŸ‡· PortuguÃªs</button>
                        <button class="lang-option" data-lang="id">ğŸ‡®ğŸ‡© Bahasa Indonesia</button>
                        <button class="lang-option" data-lang="tr">ğŸ‡¹ğŸ‡· TÃ¼rkÃ§e</button>
                        <button class="lang-option" data-lang="de">ğŸ‡©ğŸ‡ª Deutsch</button>
                        <button class="lang-option" data-lang="fr">ğŸ‡«ğŸ‡· FranÃ§ais</button>
                        <button class="lang-option" data-lang="hi">ğŸ‡®ğŸ‡³ à¤¹à¤¿à¤¨à¥à¤¦à¥€</button>
                        <button class="lang-option" data-lang="ru">ğŸ‡·ğŸ‡º Ğ ÑƒÑÑĞºĞ¸Ğ¹</button>
                    </div>
                </div>
            </div>
        </header>

        <!-- Motivation Quote -->
        <div class="quote-section">
            <p class="daily-quote" id="daily-quote"></p>
            <small class="quote-author" id="quote-author"></small>
        </div>

        <!-- Tabs Navigation -->
        <nav class="tabs">
            <button class="tab-btn active" data-tab="today" data-i18n="nav.today">Today</button>
            <button class="tab-btn" data-tab="habits" data-i18n="nav.habits">Habits</button>
            <button class="tab-btn" data-tab="stats" data-i18n="nav.stats">Statistics</button>
            <button class="tab-btn" data-tab="heatmap" data-i18n="nav.heatmap">Heatmap</button>
        </nav>

        <!-- TODAY Tab -->
        <section id="today-tab" class="tab-content active">
            <div class="today-container">
                <div class="daily-challenge">
                    <div class="today-header">
                        <h2 data-i18n="today.challenge">Today's Challenge</h2>
                        <button id="add-habit-today-btn" class="btn btn-primary btn-add-habit btn-pulse" data-i18n="today.addHabit">+ Add Habit</button>
                    </div>
                    <div id="todays-habits" class="habits-list">
                        <!-- Filled dynamically -->
                    </div>
                    <div class="completion-stats">
                        <div class="stat-box">
                            <div class="stat-label" data-i18n="today.completed">Completed</div>
                            <div class="stat-value"><span id="completed-count">0</span>/<span id="total-count">0</span></div>
                        </div>
                        <div class="stat-box">
                            <div class="stat-label" data-i18n="today.rate">Completion Rate</div>
                            <div class="stat-value"><span id="completion-rate">0</span>%</div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- HABITS Tab -->
        <section id="habits-tab" class="tab-content">
            <div class="habits-container">
                <div class="habits-header">
                    <h2 data-i18n="habits.title">My Habits</h2>
                    <button id="add-habit-btn" class="btn btn-primary" data-i18n="habits.add">+ Add Habit</button>
                </div>

                <!-- Quick Templates -->
                <div class="templates-section">
                    <h3 data-i18n="habits.templates">Quick Templates</h3>
                    <div id="templates-list" class="templates-grid">
                        <!-- Filled dynamically -->
                    </div>
                </div>

                <!-- My Habits List -->
                <div class="my-habits-section">
                    <h3 data-i18n="habits.myhabits">My Habits</h3>
                    <div id="habits-list" class="habits-list">
                        <p class="empty-state" data-i18n="habits.empty">No habits yet. Create your first habit!</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- STATS Tab -->
        <section id="stats-tab" class="tab-content">
            <div class="stats-container">
                <h2 data-i18n="stats.title">Statistics</h2>

                <!-- Weekly Stats -->
                <div class="stat-card">
                    <h3 data-i18n="stats.weekly">Weekly Achievement</h3>
                    <div id="weekly-stats" class="stats-chart">
                        <!-- Filled dynamically -->
                    </div>
                </div>

                <!-- Monthly Stats -->
                <div class="stat-card">
                    <h3 data-i18n="stats.monthly">Monthly Achievement</h3>
                    <div id="monthly-stats" class="stats-chart">
                        <!-- Filled dynamically -->
                    </div>
                </div>

                <!-- Badges -->
                <div class="badges-section">
                    <h3 data-i18n="stats.badges">Achievements</h3>
                    <div id="badges-list" class="badges-grid">
                        <!-- Filled dynamically -->
                    </div>
                </div>
            </div>
        </section>

        <!-- HEATMAP Tab -->
        <section id="heatmap-tab" class="tab-content">
            <div class="heatmap-container">
                <h2 data-i18n="heatmap.title">Annual Heatmap</h2>
                <div class="heatmap-controls">
                    <select id="heatmap-habit" class="select">
                        <option value="">All Habits</option>
                    </select>
                    <button id="share-btn" class="btn btn-secondary" data-i18n="heatmap.share">ğŸ“¸ Share</button>
                </div>
                <div id="heatmap" class="github-heatmap">
                    <!-- Filled dynamically -->
                </div>
            </div>
        </section>
    </div>

    <!-- Add/Edit Habit Modal -->
    <div id="habit-modal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="modal-title" data-i18n="modal.add">Add Habit</h2>
                <button class="btn-close" id="close-modal">&times;</button>
            </div>
            <form id="habit-form">
                <div class="form-group">
                    <label data-i18n="form.name">Habit Name</label>
                    <input type="text" id="habit-name" required placeholder="e.g., Morning Exercise">
                </div>
                <div class="form-group">
                    <label data-i18n="form.icon">Icon</label>
                    <div id="icon-picker" class="icon-picker">
                        ğŸƒ ğŸ’§ ğŸ“š ğŸ§˜ ğŸµ ğŸš´ ğŸ’ª ğŸŠ ğŸ¤¸ ğŸ§— ğŸ‹ï¸ ğŸ¤¾
                    </div>
                    <input type="hidden" id="habit-icon" value="ğŸƒ">
                </div>
                <div class="form-group">
                    <label data-i18n="form.category">Category</label>
                    <select id="habit-category">
                        <option value="health" data-i18n="form.health">Health</option>
                        <option value="learning" data-i18n="form.learning">Learning</option>
                        <option value="exercise" data-i18n="form.exercise">Exercise</option>
                        <option value="mindfulness" data-i18n="form.mindfulness">Mindfulness</option>
                        <option value="productivity" data-i18n="form.productivity">Productivity</option>
                    </select>
                </div>
                <div class="form-group">
                    <label data-i18n="form.frequency">Frequency</label>
                    <select id="habit-frequency">
                        <option value="daily" data-i18n="form.daily">Daily</option>
                        <option value="weekly" data-i18n="form.weekly">Weekly (3x)</option>
                        <option value="custom" data-i18n="form.custom">Custom</option>
                    </select>
                </div>
                <div class="form-group">
                    <label data-i18n="form.goal">Goal (days)</label>
                    <input type="number" id="habit-goal" value="30" min="1" max="365">
                </div>
                <div class="form-actions">
                    <button type="submit" class="btn btn-primary" data-i18n="form.save">Save</button>
                    <button type="button" class="btn btn-secondary" id="delete-btn" data-i18n="form.delete" style="display: none;">Delete</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Premium Modal -->
    <div id="premium-modal" class="modal hidden">
        <div class="modal-content premium-modal">
            <div class="modal-header">
                <h2 data-i18n="premium.title">AI Habit Analysis</h2>
                <button class="btn-close" id="close-premium">&times;</button>
            </div>
            <div class="premium-content">
                <p data-i18n="premium.description">Watch an ad to unlock AI analysis of your habits</p>
                <div id="premium-result" class="premium-result hidden">
                    <!-- Filled after ad -->
                </div>
                <button id="watch-ad-btn" class="btn btn-primary" data-i18n="premium.watchad">ğŸ“º Watch Ad</button>
            </div>
        </div>
    </div>

    <!-- Ad Slots -->
    <div id="ad-top" class="ad-slot" style="min-height: 60px;">
        <!-- Google AdSense Banner -->
        <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-3600813755953882" data-ad-slot="auto" data-ad-format="horizontal"></ins>
    </div>

    <div id="ad-bottom" class="ad-slot" style="min-height: 60px;">
        <!-- Google AdSense Banner -->
        <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-3600813755953882" data-ad-slot="auto" data-ad-format="horizontal"></ins>
    </div>

    <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
    </script>

    <!-- Service Worker Registration -->
    <script>
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('sw.js').catch(err => console.log('SW registration failed:', err));
        }
    </script>

    <!-- i18n and App Scripts -->
    <script src="js/i18n.js"></script>
    <script src="js/app.js"></script>
    <script src="/portal/js/cross-promo.js" defer></script>
</body>
</html>
